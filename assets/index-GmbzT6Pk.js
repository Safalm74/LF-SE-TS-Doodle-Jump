var A=Object.defineProperty;var G=(t,e,o)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var s=(t,e,o)=>(G(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const D of c.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&a(D)}).observe(document,{childList:!0,subtree:!0});function o(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=o(i);fetch(i.href,c)}})();const h={rootDiv:document.getElementById("app"),inGame:!1,highScore:0};h.rootDiv&&(h.rootDiv.style.height="100vh",h.rootDiv.style.width="100%");const F=.9*window.innerHeight;let P;window.innerWidth>760?P=.3*window.innerWidth:P=window.innerWidth;const r={windowHeight:F,windowWidth:P},B="/LF-SE-TS-Doodle-Jump/assets/platform-BZc9b0dx.png";class d{constructor(e,o){s(this,"x");s(this,"y");this.x=e,this.y=o}}const M=new Image;M.src=B;const g={sprite:M,width:64,height:25,position:[new d(11,100)]};class k{constructor(e,o,a,i){s(this,"position");s(this,"width");s(this,"height");s(this,"speed");this.position=e,this.width=o,this.height=a,this.speed=i}draw(e){e.drawImage(g.sprite,g.position[0].x,g.position[0].y,g.width,g.height,this.position.x,this.position.y,this.width,this.height)}move(){this.position.y+=this.speed}update(){this.move()}}function y(t,e){const o=Math.ceil(t),a=Math.floor(e);return Math.floor(Math.random()*(a-o+1)+o)}const E=.2*r.windowWidth,I=r.windowHeight*.02,p={position:new d(y(0,r.windowWidth-E),I),width:E,height:I,speed:1},O="/LF-SE-TS-Doodle-Jump/assets/player-D5kaW0jy.png",L=new Image;L.src=O;const u={sprite:L,width:92,height:92,position:[new d(0,0),new d(92,0),new d(182,0)]},v={lateralInterval:null,inGame:!1,doodleFalling:!0,doodleAirInterval:null,dummyTime:0};function N(t){console.log("game over"),h.inGame=!1,h.highScore<t&&(h.highScore=t);const e=document.createElement("div");e.style.width=`${window.innerWidth*.2}px`,e.style.height=`${window.innerWidth*.2}px`,e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.style.textAlign="center",e.style.backgroundColor="#eee",e.style.boxShadow="0 .2rem 1.2rem .2rem rgba(20,20,20,0.3)",e.style.borderRadius="5px";const o=document.createElement("h2");o.innerHTML="GAME OVER";const a=document.createElement("h3");a.innerHTML=`Score:${t}`;const i=document.createElement("button");i.value="Go Home",i.innerHTML="Go Home",i.className="go-home-btn",i.addEventListener("click",()=>{W()});const c=document.createElement("h3");c.innerHTML=`Best Score:${h.highScore}`,e.appendChild(o),e.appendChild(a),e.appendChild(c),e.appendChild(i),h.rootDiv&&h.rootDiv.appendChild(e)}class ${constructor(e,o,a,i){s(this,"position");s(this,"width");s(this,"height");s(this,"speedx");s(this,"speedy",0);s(this,"lookDirection",0);s(this,"prevDirection",this.lookDirection);s(this,"score",0);s(this,"onPower",!1);s(this,"activatedPower",null);this.position=e,this.width=o,this.height=a,this.speedx=i}draw(e){e.drawImage(u.sprite,u.position[this.lookDirection].x,u.position[this.lookDirection].y,u.width,u.height,this.position.x,this.position.y,this.width,this.height),this.position.y>r.windowHeight&&N(this.score)}move(e){clearInterval(v.lateralInterval);let o;e||(o=-1),e?(o=1,this.lookDirection=1):(o=-1,this.lookDirection=0),this.position.x+=o*this.speedx,this.position.x<=0&&(this.position.x=r.windowWidth-this.width),this.position.x>=r.windowWidth&&(this.position.x=0)}powerup(){this.onPower&&(this.activatedPower.position.x=this.position.x,this.activatedPower.position.y=this.position.y,this.score+=1)}dropAndBounce(e){let o=!1;const a=.08;e.forEach(i=>{this.onPower&&(i.speed=15),i.position.y+i.height>=this.position.y&&i.position.y<=this.position.y+this.height&&i.position.x+i.width>=this.position.x&&i.position.x+i.width<=this.position.x+i.width+this.width&&(o=!0)}),this.position.y<=r.windowHeight*.2&&(this.speedy=0),this.speedy=this.speedy+a,this.position.y+=this.speedy,v.doodleFalling&&o?(v.doodleFalling=!1,this.speedy=-5*this.position.y/r.windowHeight,this.prevDirection=this.lookDirection,this.lookDirection=2,this.score++):this.speedy>=0&&(v.doodleFalling=!0,this.lookDirection=this.prevDirection)}}const R="/LF-SE-TS-Doodle-Jump/assets/jetSheet-epum0WND.png",T=new Image;T.src=R;const f={sprite:T,width:17,height:54,position:[new d(39,128),new d(8,0),new d(39,0),new d(71,0),new d(104,0),new d(8,64),new d(39,64),new d(71,64),new d(104,64),new d(8,128)]};class J{constructor(e,o,a,i){s(this,"position");s(this,"width");s(this,"height");s(this,"speed");s(this,"isActive",!1);s(this,"animationIndexTracker",0);this.position=e,this.width=o,this.height=a,this.speed=i}animationIndex(){return this.isActive?this.animationIndexTracker=this.animationIndexTracker%8+1:this.animationIndexTracker=0,this.animationIndexTracker}draw(e){e.drawImage(f.sprite,f.position[this.animationIndex()].x,f.position[this.animationIndex()].y,f.width,f.height,this.position.x,this.position.y,this.width,this.height)}move(){this.position.y+=this.speed}update(){this.move()}}const w=document.createElement("canvas"),S=document.createElement("h1");S.style.backgroundColor="wheat";function q(){h.rootDiv&&(h.rootDiv.innerHTML="",h.rootDiv.appendChild(S),h.rootDiv.appendChild(w))}let l=[],m=[];function z(t){const e=new J(new d(t.position.x+t.width/2,t.position.y-54+t.height),17,54,0);m.push(e)}function K(){const t=new k(new d(y(0,r.windowWidth-p.width),p.position.y),p.width,p.height,p.speed);n.onPower||z(t),l.push(t)}const n=new $(new d(y(0,r.windowWidth-p.width),r.windowHeight/2),p.width/2,p.width/2,20);function V(){for(let t=0;t<5;t++)l.push(new k(new d(y(0,r.windowWidth-p.width),r.windowHeight*t/5),p.width,p.height,0));n.position.x=l[2].position.x+l[2].width/2,n.position.y=l[2].position.y-l[2].height*2}let H=0;function C(){H=5*(r.windowHeight-n.position.y)/r.windowHeight,x.clearRect(0,0,r.windowWidth,r.windowHeight),l.forEach(t=>{t.update(),t.draw(x),t.speed=H}),l=l.filter(t=>t.position.y<r.windowHeight),m.forEach(t=>{t.update(),t.draw(x),t.speed=H}),m.forEach(t=>{t.position.y+t.height>=n.position.y&&t.position.y<=n.position.y+n.height&&t.position.x+t.width>=n.position.x&&t.position.x+t.width<=n.position.x+t.width+n.width&&!n.onPower&&(n.onPower=!0,t.isActive=!0,n.activatedPower=t,m=m.filter(e=>e===n.activatedPower),setTimeout(()=>{n.onPower=!1,m=[]},1500))}),l[l.length-1].position.y>100&&K(),n.draw(x),n.dropAndBounce(l),n.powerup(),S.innerHTML=`Score: ${n.score}`,h.inGame&&requestAnimationFrame(C)}function X(){n.position=new d(y(0,r.windowWidth-p.width),r.windowHeight/2),n.score=0}const x=w.getContext("2d");function Z(){X(),console.log("ingame"),h.rootDiv&&(h.rootDiv.innerHTML=""),q(),h.inGame=!0;const t=r.windowWidth,e=r.windowHeight;w.width=t,w.height=e,w.style.display="block",w.style.margin="0 auto",w.style.backgroundColor="#87CEEB",V(),C()}function W(){if(h.inGame=!1,console.log("Home"),h.rootDiv){h.rootDiv.innerHTML="";const t=document.createElement("div");t.style.display="flex",t.style.height="100vh",t.style.width="100%",t.style.justifyContent="center",t.style.alignItems="center",t.style.position="relative",t.className="home-page";const e=document.createElement("button");e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.value="Start Game",e.innerHTML="Start Game",e.className="start-btn",e.addEventListener("click",()=>{Z(),h.inGame=!0});const o=document.createElement("p");o.innerHTML=`Press'w' or click of left &nbsp 
                                side to move left And`,t.appendChild(e),h.rootDiv.appendChild(t)}}W();window.addEventListener("keypress",t=>{if(!n.onPower)switch(t.key){case"a":n.move(!1);break;case"d":n.move(!0);break}});w.addEventListener("click",t=>{n.onPower||n.move(!(t.offsetX<r.windowWidth/2))});
