var b=Object.defineProperty;var I=(e,t,o)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var r=(e,t,o)=>(I(e,typeof t!="symbol"?t+"":t,o),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))h(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&h(y)}).observe(document,{childList:!0,subtree:!0});function o(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function h(i){if(i.ep)return;i.ep=!0;const d=o(i);fetch(i.href,d)}})();const n={rootDiv:document.getElementById("app"),inGame:!1,highScore:0};n.rootDiv&&(n.rootDiv.style.height="100vh",n.rootDiv.style.width="100%");const T=.9*window.innerHeight;let D;window.innerWidth>760?D=.3*window.innerWidth:D=window.innerWidth;const s={windowHeight:T,windowWidth:D},P="/LF-SE-TS-Doodle-Jump/assets/platform-BZc9b0dx.png";class p{constructor(t,o){r(this,"x");r(this,"y");this.x=t,this.y=o}}const S=new Image;S.src=P;const m={sprite:S,width:64,height:25,position:[new p(11,100)]};class C{constructor(t,o,h,i){r(this,"position");r(this,"width");r(this,"height");r(this,"speed");this.position=t,this.width=o,this.height=h,this.speed=i}draw(t){t.drawImage(m.sprite,m.position[0].x,m.position[0].y,m.width,m.height,this.position.x,this.position.y,this.width,this.height)}move(){this.position.y+=this.speed}update(){this.move()}}function u(e,t){const o=Math.ceil(e),h=Math.floor(t);return Math.floor(Math.random()*(h-o+1)+o)}const H=.2*s.windowWidth,M=s.windowHeight*.02,a={position:new p(u(0,s.windowWidth-H),M),width:H,height:M,speed:1},G="/LF-SE-TS-Doodle-Jump/assets/player-D5kaW0jy.png",L=new Image;L.src=G;const g={sprite:L,width:92,height:92,position:[new p(0,0),new p(92,0),new p(182,0)]},f={lateralInterval:null,inGame:!1,doodleFalling:!0,doodleAirInterval:null,dummyTime:0};function O(e){console.log("game over"),n.inGame=!1,n.highScore<e&&(n.highScore=e);const t=document.createElement("div");t.style.width=`${window.innerWidth*.2}px`,t.style.height=`${window.innerWidth*.2}px`,t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%,-50%)",t.style.textAlign="center",t.style.backgroundColor="#eee",t.style.boxShadow="0 .2rem 1.2rem .2rem rgba(20,20,20,0.3)",t.style.borderRadius="5px";const o=document.createElement("h2");o.innerHTML="GAME OVER";const h=document.createElement("h3");h.innerHTML=`Score:${e}`;const i=document.createElement("button");i.value="Go Home",i.innerHTML="Go Home",i.className="go-home-btn",i.addEventListener("click",()=>{k()});const d=document.createElement("h3");d.innerHTML=`Best Score:${n.highScore}`,t.appendChild(o),t.appendChild(h),t.appendChild(d),t.appendChild(i),n.rootDiv&&n.rootDiv.appendChild(t)}class A{constructor(t,o,h,i){r(this,"position");r(this,"width");r(this,"height");r(this,"speedx");r(this,"speedy",0);r(this,"lookDirection",0);r(this,"prevDirection",this.lookDirection);r(this,"score",0);this.position=t,this.width=o,this.height=h,this.speedx=i}draw(t){t.drawImage(g.sprite,g.position[this.lookDirection].x,g.position[this.lookDirection].y,g.width,g.height,this.position.x,this.position.y,this.width,this.height),this.position.y>s.windowHeight&&O(this.score)}move(t){clearInterval(f.lateralInterval);let o;t||(o=-1),t?(o=1,this.lookDirection=1):(o=-1,this.lookDirection=0),this.position.x+=o*this.speedx,this.position.x<=0&&(this.position.x=s.windowWidth-this.width),this.position.x>=s.windowWidth&&(this.position.x=0)}dropAndBounce(t){let o=!1;const h=.08;t.forEach(i=>{document.body.style.backgroundColor="white",i.position.y+i.height>=this.position.y&&i.position.y<=this.position.y+this.height&&i.position.x+i.width>=this.position.x&&i.position.x+i.width<=this.position.x+i.width+this.width&&(o=!0)}),this.position.y<=s.windowHeight*.2&&(this.speedy=0),this.speedy=this.speedy+h,this.position.y+=this.speedy,f.doodleFalling&&o?(f.doodleFalling=!1,this.speedy=-5*this.position.y/s.windowHeight,this.prevDirection=this.lookDirection,this.lookDirection=2):this.speedy>=0&&(f.doodleFalling=!0,this.lookDirection=this.prevDirection)}}const w=document.createElement("canvas"),x=document.createElement("h1");x.style.backgroundColor="wheat";function F(){n.rootDiv&&(n.rootDiv.innerHTML="",n.rootDiv.appendChild(x),n.rootDiv.appendChild(w))}let l=[];function B(){const e=new C(new p(u(0,s.windowWidth-a.width),a.position.y),a.width,a.height,a.speed);l.push(e)}const c=new A(new p(u(0,s.windowWidth-a.width),s.windowHeight/2),a.width/2,a.width/2,20);function N(){for(let e=0;e<5;e++)l.push(new C(new p(u(0,s.windowWidth-a.width),s.windowHeight*e/5),a.width,a.height,0));c.position.x=l[2].position.x+l[2].width/2,c.position.y=l[2].position.y-l[2].height*2}let E=0;function W(){E=5*(s.windowHeight-c.position.y)/s.windowHeight,v.clearRect(0,0,s.windowWidth,s.windowHeight),l.forEach(e=>{e.update(),e.draw(v),e.speed=E}),l=l.filter(e=>e.position.y<s.windowHeight?!0:(c.score++,!1)),l[l.length-1].position.y>100&&B(),c.draw(v),c.dropAndBounce(l),x.innerHTML=`Score: ${c.score}`,n.inGame&&requestAnimationFrame(W)}function $(){c.position=new p(u(0,s.windowWidth-a.width),s.windowHeight/2),c.score=0}const v=w.getContext("2d");function R(){$(),console.log("ingame"),n.rootDiv&&(n.rootDiv.innerHTML=""),F(),n.inGame=!0;const e=s.windowWidth,t=s.windowHeight;w.width=e,w.height=t,w.style.display="block",w.style.margin="0 auto",w.style.backgroundColor="#87CEEB",N(),W()}function k(){if(n.inGame=!1,console.log("Home"),n.rootDiv){n.rootDiv.innerHTML="";const e=document.createElement("div");e.style.display="flex",e.style.height="100vh",e.style.width="100%",e.style.justifyContent="center",e.style.alignItems="center",e.style.position="relative",e.className="home-page";const t=document.createElement("button");t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%,-50%)",t.value="Start Game",t.innerHTML="Start Game",t.className="start-btn",t.addEventListener("click",()=>{R(),n.inGame=!0});const o=document.createElement("p");o.innerHTML=`Press'w' or click of left &nbsp 
                                side to move left And`,e.appendChild(t),n.rootDiv.appendChild(e)}}k();window.addEventListener("keypress",e=>{switch(e.key){case"a":c.move(!1);break;case"d":c.move(!0);break}});
