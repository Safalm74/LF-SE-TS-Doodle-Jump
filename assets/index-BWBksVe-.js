var G=Object.defineProperty;var A=(t,e,i)=>e in t?G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var r=(t,e,i)=>(A(t,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const S of l.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&d(S)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function d(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();const n={rootDiv:document.getElementById("app"),inGame:!1,highScore:0,allScore:[]};n.rootDiv&&(n.rootDiv.style.height="100vh",n.rootDiv.style.width="100%");const N=.9*window.innerHeight;let H;window.innerWidth>760?H=.3*window.innerWidth:H=window.innerWidth;const h={windowHeight:N,windowWidth:H},F="/LF-SE-TS-Doodle-Jump/assets/platform-BZc9b0dx.png";class a{constructor(e,i){r(this,"x");r(this,"y");this.x=e,this.y=i}}const I=new Image;I.src=F;const g={sprite:I,width:64,height:25,position:[new a(11,100)]};class T{constructor(e,i,d,o){r(this,"position");r(this,"width");r(this,"height");r(this,"speed");this.position=e,this.width=i,this.height=d,this.speed=o}draw(e){e.drawImage(g.sprite,g.position[0].x,g.position[0].y,g.width,g.height,this.position.x,this.position.y,this.width,this.height)}move(){this.position.y+=this.speed}update(){this.move()}}function u(t,e){const i=Math.ceil(t),d=Math.floor(e);return Math.floor(Math.random()*(d-i+1)+i)}const L=.2*h.windowWidth,M=h.windowHeight*.02,p={position:new a(u(0,h.windowWidth-L),M),width:L,height:M,speed:1},$="/LF-SE-TS-Doodle-Jump/assets/player-D5kaW0jy.png",k=new Image;k.src=$;const y={sprite:k,width:92,height:92,position:[new a(0,0),new a(92,0),new a(182,0)]},v={lateralInterval:null,inGame:!1,doodleFalling:!0,doodleAirInterval:null,dummyTime:0};function C(t){console.log("game over"),n.inGame=!1,n.highScore<t&&(n.highScore=t),n.allScore.push(t);const e=document.createElement("div");e.style.width=`${window.innerWidth*.2}px`,e.style.height=`${window.innerWidth*.2}px`,e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.style.textAlign="center",e.style.backgroundColor="#eee",e.style.boxShadow="0 .2rem 1.2rem .2rem rgba(20,20,20,0.3)",e.style.borderRadius="5px";const i=document.createElement("h2");i.innerHTML="GAME OVER";const d=document.createElement("h3");d.innerHTML=`Score:${t}`;const o=document.createElement("button");o.value="Go Home",o.innerHTML="Go Home",o.className="go-home-btn",o.addEventListener("click",()=>{P()});const l=document.createElement("h3");l.innerHTML=`Best Score:${n.highScore}`,e.appendChild(i),e.appendChild(d),e.appendChild(l),e.appendChild(o),n.rootDiv&&n.rootDiv.appendChild(e)}class O{constructor(e,i,d,o){r(this,"position");r(this,"width");r(this,"height");r(this,"speedx");r(this,"speedy",0);r(this,"lookDirection",0);r(this,"prevDirection",this.lookDirection);r(this,"score",0);r(this,"onPower",!1);r(this,"activatedPower",null);r(this,"hp",100);this.position=e,this.width=i,this.height=d,this.speedx=o}draw(e){e.drawImage(y.sprite,y.position[this.lookDirection].x,y.position[this.lookDirection].y,y.width,y.height,this.position.x,this.position.y,this.width,this.height),this.position.y>h.windowHeight&&C(this.score)}move(e){clearInterval(v.lateralInterval);let i;e||(i=-1),e?(i=1,this.lookDirection=1):(i=-1,this.lookDirection=0),this.position.x+=i*this.speedx,this.position.x<=0&&(this.position.x=h.windowWidth-this.width),this.position.x>=h.windowWidth&&(this.position.x=0)}powerup(){this.onPower&&(this.activatedPower.position.x=this.position.x,this.activatedPower.position.y=this.position.y,this.score+=1)}getDamage(e){this.hp-=e,this.hp<0&&C(this.score)}dropAndBounce(e){let i=!1;const d=.08;e.forEach(o=>{this.onPower&&(o.speed=15),o.position.y+o.height>=this.position.y&&o.position.y<=this.position.y+this.height&&o.position.x+o.width>=this.position.x&&o.position.x+o.width<=this.position.x+o.width+this.width&&(i=!0)}),this.position.y<=h.windowHeight*.2&&(this.speedy=0),this.speedy=this.speedy+d,this.position.y+=this.speedy,v.doodleFalling&&i?(v.doodleFalling=!1,this.speedy=-5*this.position.y/h.windowHeight,this.prevDirection=this.lookDirection,this.lookDirection=2,this.score++):this.speedy>=0&&(v.doodleFalling=!0,this.lookDirection=this.prevDirection)}}const R="/LF-SE-TS-Doodle-Jump/assets/jetSheet-epum0WND.png",W=new Image;W.src=R;const f={sprite:W,width:17,height:54,position:[new a(39,128),new a(8,0),new a(39,0),new a(71,0),new a(104,0),new a(8,64),new a(39,64),new a(71,64),new a(104,64),new a(8,128)]};class b{constructor(e,i,d,o){r(this,"position");r(this,"width");r(this,"height");r(this,"speed");r(this,"isActive",!1);r(this,"animationIndexTracker",0);this.position=e,this.width=i,this.height=d,this.speed=o}animationIndex(){return this.isActive?this.animationIndexTracker=this.animationIndexTracker%8+1:this.animationIndexTracker=0,this.animationIndexTracker}draw(e){e.drawImage(f.sprite,f.position[this.animationIndex()].x,f.position[this.animationIndex()].y,f.width,f.height,this.position.x,this.position.y,this.width,this.height)}move(){this.position.y+=this.speed}update(){this.move()}}const w=document.createElement("canvas"),D=document.createElement("h1");D.style.backgroundColor="wheat";D.style.width=`${h.windowWidth}`;function J(){n.rootDiv&&(n.rootDiv.innerHTML="",n.rootDiv.appendChild(D),n.rootDiv.appendChild(w))}let c=[],m=[];function q(t){const e=new b(new a(t.position.x+t.width/2,t.position.y-54+t.height),17,54,0);m.push(e)}function z(){const t=new T(new a(u(0,h.windowWidth-p.width),p.position.y),p.width,p.height,p.speed),e=u(1,100);!s.onPower&&e%2==0&&e<50&&q(t),c.push(t)}const s=new O(new a(u(0,h.windowWidth-p.width),h.windowHeight/2),p.width/2,p.width/2,20);function K(){for(let t=0;t<5;t++)c.push(new T(new a(u(0,h.windowWidth-p.width),h.windowHeight*t/5),p.width,p.height,0));s.position.x=c[2].position.x+c[2].width/2,s.position.y=c[2].position.y-c[2].height*2}let E=0;function B(){E=5*(h.windowHeight-s.position.y)/h.windowHeight,x.clearRect(0,0,h.windowWidth,h.windowHeight),c.forEach(t=>{t.update(),t.draw(x),t.speed=E}),c=c.filter(t=>t.position.y<h.windowHeight),m.forEach(t=>{t.update(),t.draw(x),t.speed=E}),m.forEach(t=>{t.position.y+t.height>=s.position.y&&t.position.y<=s.position.y+s.height&&t.position.x+t.width>=s.position.x&&t.position.x+t.width<=s.position.x+t.width+s.width&&!s.onPower&&(s.onPower=!0,t.isActive=!0,s.activatedPower=t,m=m.filter(e=>e===s.activatedPower),setTimeout(()=>{s.onPower=!1,m=[]},1500))}),c[c.length-1].position.y>100&&z(),s.draw(x),s.dropAndBounce(c),s.powerup(),D.innerHTML=`Score: ${s.score}`,n.inGame&&requestAnimationFrame(B)}function V(){s.position=new a(u(0,h.windowWidth-p.width),h.windowHeight/2),s.score=0}const x=w.getContext("2d");function X(){V(),console.log("ingame"),n.rootDiv&&(n.rootDiv.innerHTML=""),J(),n.inGame=!0;const t=h.windowWidth,e=h.windowHeight;w.width=t,w.height=e,w.style.display="block",w.style.margin="0 auto",w.style.backgroundColor="#87CEEB",K(),B()}function Z(){if(n.inGame=!1,console.log("ScoreBoard"),n.rootDiv){n.allScore.sort(),n.rootDiv.innerHTML="";const t=document.createElement("div");t.style.display="flex",t.style.height="100vh",t.style.width="100%",t.style.justifyContent="center",t.style.alignItems="center",t.style.position="relative",t.className="home-page";const e=document.createElement("button");e.value="Return",e.innerHTML="Return to home",e.className="return-btn",e.addEventListener("click",()=>{P()});const i=document.createElement("table");i.style.color="white";let d="<tr><td>S.N.</td><td> Score</td></tr>";n.allScore.forEach((o,l)=>{d+=`<tr><td>${l+1}</td><td>${o}</td></tr>`}),i.innerHTML=d,t.appendChild(i),t.appendChild(e),n.rootDiv.appendChild(t)}}function P(){if(n.inGame=!1,console.log("Home"),n.rootDiv){n.rootDiv.innerHTML="";const t=document.createElement("div");t.style.display="flex",t.style.height="100vh",t.style.width="100%",t.style.justifyContent="center",t.style.alignItems="center",t.style.position="relative",t.className="home-page";const e=document.createElement("button");e.style.position="absolute",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%,-50%)",e.value="Start Game",e.innerHTML="Start Game",e.className="start-btn",e.addEventListener("click",()=>{X(),n.inGame=!0});const i=document.createElement("button");i.style.position="absolute",i.style.top="60%",i.style.left="50%",i.style.transform="translate(-50%,-50%)",i.value="Score Board",i.innerHTML="Score Board",i.className="start-btn",i.addEventListener("click",()=>{Z()}),t.appendChild(i),t.appendChild(e),n.rootDiv.appendChild(t)}}P();window.addEventListener("keypress",t=>{if(!s.onPower)switch(t.key){case"a":s.move(!1);break;case"d":s.move(!0);break}});w.addEventListener("click",t=>{s.onPower||s.move(!(t.offsetX<h.windowWidth/2))});
